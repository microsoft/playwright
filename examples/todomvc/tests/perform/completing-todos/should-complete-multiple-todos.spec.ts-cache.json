{
  "Add three todos: 'Buy milk', 'Walk dog', 'Finish report'": {
    "actions": [
      {
        "method": "fill",
        "selector": "internal:role=textbox[name=\"What needs to be done?\"i]",
        "text": "Buy milk",
        "submit": true,
        "code": "await page.getByRole('textbox', { name: 'What needs to be done?' }).fill('Buy milk');\nawait page.keyboard.press('Enter');"
      },
      {
        "method": "fill",
        "selector": "internal:role=textbox[name=\"What needs to be done?\"i]",
        "text": "Walk dog",
        "submit": true,
        "code": "await page.getByRole('textbox', { name: 'What needs to be done?' }).fill('Walk dog');\nawait page.keyboard.press('Enter');"
      },
      {
        "method": "fill",
        "selector": "internal:role=textbox[name=\"What needs to be done?\"i]",
        "text": "Finish report",
        "submit": true,
        "code": "await page.getByRole('textbox', { name: 'What needs to be done?' }).fill('Finish report');\nawait page.keyboard.press('Enter');"
      }
    ]
  },
  "All three todos are visible": {
    "actions": [
      {
        "method": "expectAria",
        "template": "- list:\n  - listitem: Buy milk\n  - listitem: Walk dog\n  - listitem: Finish report",
        "code": "await expect(page.locator('body')).toMatchAria(`\n- list:\n  - listitem: Buy milk\n  - listitem: Walk dog\n  - listitem: Finish report\n`);"
      }
    ]
  },
  "Complete the first todo by clicking its checkbox": {
    "actions": [
      {
        "method": "click",
        "selector": "internal:role=listitem >> internal:has-text=\"Buy milk\"i >> internal:label=\"Toggle Todo\"i",
        "code": "await page.getByRole('listitem').filter({ hasText: 'Buy milk' }).getByLabel('Toggle Todo').click();"
      }
    ]
  },
  "Complete the third todo by clicking its checkbox": {
    "actions": [
      {
        "method": "click",
        "selector": "internal:role=listitem >> internal:has-text=\"Finish report\"i >> internal:label=\"Toggle Todo\"i",
        "code": "await page.getByRole('listitem').filter({ hasText: 'Finish report' }).getByLabel('Toggle Todo').click();"
      }
    ]
  },
  "Counter shows '1 item left'": {
    "actions": [
      {
        "method": "expectVisible",
        "selector": "internal:text=\"item left\"i",
        "code": "await expect(page.getByText('item left')).toBeVisible();"
      }
    ]
  },
  "Counter shows '2 items left'": {
    "actions": [
      {
        "method": "expectVisible",
        "selector": "internal:text=\"2 items left\"i",
        "code": "await expect(page.getByText('2 items left')).toBeVisible();"
      }
    ]
  },
  "Counter shows '3 items left'": {
    "actions": [
      {
        "method": "expectVisible",
        "selector": "internal:text=\"3 items left\"i",
        "code": "await expect(page.getByText('3 items left')).toBeVisible();"
      }
    ]
  },
  "First todo is marked as complete": {
    "actions": [
      {
        "method": "expectValue",
        "selector": "internal:role=listitem >> internal:has-text=\"Buy milk\"i >> internal:label=\"Toggle Todo\"i",
        "type": "checkbox",
        "value": "true",
        "code": "await expect(page.getByRole('listitem').filter({ hasText: 'Buy milk' }).getByLabel('Toggle Todo')).toBeChecked({ checked: true });"
      }
    ]
  },
  "The 'Clear completed' button appears": {
    "actions": [
      {
        "method": "expectVisible",
        "selector": "internal:role=button[name=\"Clear completed\"i]",
        "code": "await expect(page.getByRole('button', { name: 'Clear completed' })).toBeVisible();"
      }
    ]
  },
  "The page loads with an empty todo list": {
    "actions": [
      {
        "method": "expectVisible",
        "selector": "internal:role=textbox[name=\"What needs to be done?\"i]",
        "code": "await expect(page.getByRole('textbox', { name: 'What needs to be done?' })).toBeVisible();"
      }
    ]
  },
  "Third todo is marked as complete": {
    "actions": [
      {
        "method": "expectValue",
        "selector": "internal:role=listitem >> internal:has-text=\"Finish report\"i >> internal:label=\"Toggle Todo\"i",
        "type": "checkbox",
        "value": "true",
        "code": "await expect(page.getByRole('listitem').filter({ hasText: 'Finish report' }).getByLabel('Toggle Todo')).toBeChecked({ checked: true });"
      }
    ]
  }
}